:root{
  --bg:#0f1115;
  --surface:#151821;
  --muted:#222633;
  --text:#e8eaf0;
  --sub:#aeb4c0;
  --primary:#7c5cff;
  --primary-weak:#7c5cff22;
  --green:#22c55e;
  --red:#ef4444;
  --blue:#3b82f6;
  --yellow:#eab308;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  --radius:18px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
  background:linear-gradient(180deg, #0b0d12, #0f1115 30%, #0f1115);
  color:var(--text);
}

.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 22px;
  background:rgba(10,12,18,.6);
  backdrop-filter:saturate(140%) blur(10px);
  border-bottom:1px solid #1b1f2b;
}
.brand{margin:0; font-size:20px; letter-spacing:.5px}
.topnav .btn-ghost{border:1px solid #2b3142; background:transparent; color:var(--text)}

.view{padding:28px; max-width:1200px; margin:0 auto}
.hidden{display:none}

.card{
  background:var(--surface);
  border:1px solid #1d2230;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}

.login-card{
  max-width:420px; margin:10vh auto; padding:26px;
}
.login-card h2{margin-top:0}
label{display:block; margin:14px 0 10px; color:var(--sub); font-size:14px}
input{
  width:100%; padding:12px 14px; border-radius:12px;
  border:1px solid #2a3142; outline:none; background:#0f1320; color:var(--text);
}
input:focus{border-color:var(--primary); box-shadow:0 0 0 3px var(--primary-weak)}
.btn{
  display:inline-flex; align-items:center; justify-content:center;
  padding:10px 16px; border-radius:12px; cursor:pointer; border:none;
  font-weight:600; letter-spacing:.2px;
}
.btn-primary{background:var(--primary); color:white}
.btn-ghost{background:transparent; color:var(--sub)}
.btn:disabled{opacity:.6; cursor:not-allowed}

.msg{margin-top:12px; min-height:20px; color:var(--sub)}

.kanban-toolbar{
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom:18px;
}
.kanban-toolbar h2{margin:0}
.hint{color:var(--sub); font-size:13px}

.kanban-grid{
  display:grid;
  grid-template-columns:repeat(4, 1fr);
  gap:16px;
}
.column{
  background:var(--surface);
  border:1px solid #1d2230;
  border-radius:var(--radius);
  display:flex; flex-direction:column; min-height:60vh;
  box-shadow:var(--shadow);
}
.column-header{
  display:flex; align-items:center; gap:8px; padding:14px 14px 10px;
  border-bottom:1px solid #1d2230;
}
.column-header h3{margin:0; font-size:16px}
.count{
  margin-left:auto; font-size:12px; color:var(--sub);
  background:#0f1320; border:1px solid #22293a; border-radius:999px; padding:2px 8px;
}
.dot{width:10px; height:10px; border-radius:50%}
.dot-gray{background:#9ca3af}
.dot-blue{background:var(--blue)}
.dot-green{background:var(--green)}
.dot-red{background:var(--red)}

.column-body{
  flex:1; padding:12px; overflow:auto;
}

.card-task{
  background:linear-gradient(180deg, #1a1f2b, #181c27);
  border:1px solid #2a3142;
  border-radius:14px;
  padding:12px;
  margin:10px 6px;
  box-shadow: 0 8px 18px rgba(0,0,0,.25);
  cursor:grab;
}
.card-task:active{cursor:grabbing}
.card-task .title{font-weight:600}
.card-task .meta{color:var(--sub); font-size:12px; margin-top:6px}
.card-task .meta-date{color:var(--primary); font-size:12px; margin-top:6px}

.droppable{transition:background .2s ease}
.droppable.drag-over{
  background:rgba(124,92,255,.06);
  outline:2px dashed var(--primary);
  outline-offset:-6px;
  border-radius:12px;
}

.footer{padding:22px; text-align:center; color:#7b8396}

.modal {
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0,0,0,0.55);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}
.modal.hidden { display: none; }
.modal-content {
  min-width: 320px;
  max-width: 95vw;
  padding: 28px 24px 18px 24px;
  position: relative;
  max-height: 80vh;
  overflow-y: auto;
}
#closeTaskModal {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 22px;
  background: none;
  border: none;
  color: var(--sub);
  cursor: pointer;
}
#modalFields > div { margin: 10px 0; }
#modalFields b { color: var(--primary); }

/* Estilo para selects de prioridade e status */
#addPrioridade, #addStatus {
  width: 100%;
  padding: 12px 14px;
  border-radius: 12px;
  border: 1.5px solid var(--primary);
  background: #181c27;
  color: var(--primary);
  font-weight: 600;
  font-size: 15px;
  margin-top: 4px;
  margin-bottom: 8px;
  transition: border-color 0.2s;
  outline: none;
}

#addPrioridade:focus, #addStatus:focus {
  border-color: var(--primary);
  box-shadow: 0 0 0 3px var(--primary-weak);
  background: #222633;
  color: #fff;
}

/* Scrollbar estilizado para modal de adicionar tarefa */
#addTaskModal .modal-content::-webkit-scrollbar {
  width: 10px;
  background: #181c27;
  border-radius: 8px;
}

#addTaskModal .modal-content::-webkit-scrollbar-thumb {
  background: var(--primary-weak);
  border-radius: 8px;
  border: 2px solid #222633;
}

#addTaskModal .modal-content::-webkit-scrollbar-thumb:hover {
  background: var(--primary);
}

/* Firefox */
#addTaskModal .modal-content {
  scrollbar-width: thin;
  scrollbar-color: var(--primary-weak) #181c27;
}

#modal-categorias {
  display: inline-flex;
  flex-wrap: wrap;
  gap: 6px;
  margin-top: 4px;
}
.modal-cat-tag {
  display: inline-block;
  background: var(--muted);
  color: var(--primary);
  border-radius: 999px;
  padding: 4px 14px;
  font-size: 13px;
  font-weight: 600;
  border: 1px solid var(--primary);
  margin-bottom: 2px;
}

@media (max-width: 980px){
  .kanban-grid{grid-template-columns:repeat(2, 1fr)}
}
@media (max-width: 620px){
  .kanban-grid{grid-template-columns:1fr}
  .topbar{flex-wrap:wrap; gap:8px}
}
